{"ast":null,"code":"import React,{useEffect,useState}from'react';import SpaceTravelApi from'../services/SpaceTravelApi';import{useContext}from'react';import SpacecraftContext from'../context/SpacecraftContext';import ClickedSpacecraft from'../components/ClickedSpacecraft';import{useNavigate}from'react-router-dom';import{useCallback}from'react';import LoadingContext from'../context/LoadingContext';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const Spacecraft=()=>{const INITIAL_STATE='';const[spacecraft,setSpacecraft]=useState(INITIAL_STATE);const{currSpacecraft,destroySpacecraft,setCurrSpacecraft}=useContext(SpacecraftContext);const navigate=useNavigate();const{showLoadingSign,disableLoading,enableLoading}=useContext(LoadingContext);const loadShipFromEffect=useCallback(()=>{if(spacecraft!==undefined&&spacecraft!==''&&spacecraft!==null){return/*#__PURE__*/_jsx(ClickedSpacecraft,{id:spacecraft.id,capacity:spacecraft.capacity,name:spacecraft.name,description:spacecraft.description,pictureUrl:spacecraft.pictureUrl,destroySpacecraft:destroySpacecraft});}},[destroySpacecraft,spacecraft]);useEffect(()=>{const loadSpacecraft=async()=>{enableLoading();const current=await SpaceTravelApi.getSpacecraftById({id:currSpacecraft});setSpacecraft(current.data);setCurrSpacecraft(INITIAL_STATE);disableLoading();};if(currSpacecraft!==INITIAL_STATE){loadSpacecraft();}},[currSpacecraft,loadShipFromEffect,disableLoading,enableLoading,setCurrSpacecraft]);return/*#__PURE__*/_jsxs(_Fragment,{children:[showLoadingSign(),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),children:\"Back\"}),loadShipFromEffect()]});};export default Spacecraft;","map":{"version":3,"names":["React","useEffect","useState","SpaceTravelApi","useContext","SpacecraftContext","ClickedSpacecraft","useNavigate","useCallback","LoadingContext","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Spacecraft","INITIAL_STATE","spacecraft","setSpacecraft","currSpacecraft","destroySpacecraft","setCurrSpacecraft","navigate","showLoadingSign","disableLoading","enableLoading","loadShipFromEffect","undefined","id","capacity","name","description","pictureUrl","loadSpacecraft","current","getSpacecraftById","data","children","onClick"],"sources":["/Users/owner/Documents/SPRINGBOARD/Projects/space-travel/src/pages/Spacecraft.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport SpaceTravelApi from '../services/SpaceTravelApi';\nimport { useContext } from 'react';\nimport SpacecraftContext from '../context/SpacecraftContext';\nimport ClickedSpacecraft from '../components/ClickedSpacecraft';\nimport { useNavigate } from 'react-router-dom';\nimport { useCallback } from 'react';\nimport LoadingContext from '../context/LoadingContext';\n\nconst Spacecraft = () => {\n    const INITIAL_STATE = '';\n    const [spacecraft, setSpacecraft] = useState(INITIAL_STATE);\n    const {currSpacecraft, destroySpacecraft, setCurrSpacecraft} = useContext(SpacecraftContext);\n    const navigate = useNavigate();\n    const {showLoadingSign, disableLoading, enableLoading} = useContext(LoadingContext);\n\n    const loadShipFromEffect = useCallback(() => {\n        if(spacecraft !== undefined && spacecraft !== '' && spacecraft !== null){\n            return (\n                <ClickedSpacecraft \n                  id={spacecraft.id} \n                  capacity={spacecraft.capacity} \n                  name={spacecraft.name} \n                  description={spacecraft.description} \n                  pictureUrl={spacecraft.pictureUrl}\n                  destroySpacecraft={destroySpacecraft}\n                />\n            )\n         }\n    }, [destroySpacecraft, spacecraft])\n\n    useEffect(() => {\n      const loadSpacecraft = async () => {\n            enableLoading();\n            const current = await SpaceTravelApi.getSpacecraftById({id: currSpacecraft});\n            setSpacecraft(current.data);\n            setCurrSpacecraft(INITIAL_STATE);\n            disableLoading();\n        }\n\n        if(currSpacecraft !== INITIAL_STATE){\n            loadSpacecraft();\n        }\n\n    }, [currSpacecraft, loadShipFromEffect, disableLoading, enableLoading, setCurrSpacecraft])\n      \n    return (\n       <>\n        {showLoadingSign()}\n        <button onClick={() => navigate(-1)}>Back</button>\n        {loadShipFromEffect()}\n       </>\n    )\n}\n\nexport default Spacecraft;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAChD,MAAO,CAAAC,cAAc,KAAM,4BAA4B,CACvD,OAASC,UAAU,KAAQ,OAAO,CAClC,MAAO,CAAAC,iBAAiB,KAAM,8BAA8B,CAC5D,MAAO,CAAAC,iBAAiB,KAAM,iCAAiC,CAC/D,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,WAAW,KAAQ,OAAO,CACnC,MAAO,CAAAC,cAAc,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvD,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAAC,aAAa,CAAG,EAAE,CACxB,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGjB,QAAQ,CAACe,aAAa,CAAC,CAC3D,KAAM,CAACG,cAAc,CAAEC,iBAAiB,CAAEC,iBAAiB,CAAC,CAAGlB,UAAU,CAACC,iBAAiB,CAAC,CAC5F,KAAM,CAAAkB,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACiB,eAAe,CAAEC,cAAc,CAAEC,aAAa,CAAC,CAAGtB,UAAU,CAACK,cAAc,CAAC,CAEnF,KAAM,CAAAkB,kBAAkB,CAAGnB,WAAW,CAAC,IAAM,CACzC,GAAGU,UAAU,GAAKU,SAAS,EAAIV,UAAU,GAAK,EAAE,EAAIA,UAAU,GAAK,IAAI,CAAC,CACpE,mBACIP,IAAA,CAACL,iBAAiB,EAChBuB,EAAE,CAAEX,UAAU,CAACW,EAAG,CAClBC,QAAQ,CAAEZ,UAAU,CAACY,QAAS,CAC9BC,IAAI,CAAEb,UAAU,CAACa,IAAK,CACtBC,WAAW,CAAEd,UAAU,CAACc,WAAY,CACpCC,UAAU,CAAEf,UAAU,CAACe,UAAW,CAClCZ,iBAAiB,CAAEA,iBAAkB,CACtC,CAAC,CAET,CACL,CAAC,CAAE,CAACA,iBAAiB,CAAEH,UAAU,CAAC,CAAC,CAEnCjB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiC,cAAc,CAAG,KAAAA,CAAA,GAAY,CAC7BR,aAAa,CAAC,CAAC,CACf,KAAM,CAAAS,OAAO,CAAG,KAAM,CAAAhC,cAAc,CAACiC,iBAAiB,CAAC,CAACP,EAAE,CAAET,cAAc,CAAC,CAAC,CAC5ED,aAAa,CAACgB,OAAO,CAACE,IAAI,CAAC,CAC3Bf,iBAAiB,CAACL,aAAa,CAAC,CAChCQ,cAAc,CAAC,CAAC,CACpB,CAAC,CAED,GAAGL,cAAc,GAAKH,aAAa,CAAC,CAChCiB,cAAc,CAAC,CAAC,CACpB,CAEJ,CAAC,CAAE,CAACd,cAAc,CAAEO,kBAAkB,CAAEF,cAAc,CAAEC,aAAa,CAAEJ,iBAAiB,CAAC,CAAC,CAE1F,mBACGP,KAAA,CAAAF,SAAA,EAAAyB,QAAA,EACEd,eAAe,CAAC,CAAC,cAClBb,IAAA,WAAQ4B,OAAO,CAAEA,CAAA,GAAMhB,QAAQ,CAAC,CAAC,CAAC,CAAE,CAAAe,QAAA,CAAC,MAAI,CAAQ,CAAC,CACjDX,kBAAkB,CAAC,CAAC,EACpB,CAAC,CAEV,CAAC,CAED,cAAe,CAAAX,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}