{"ast":null,"code":"import React,{useState,useEffect}from'react';import SpaceTravelApi from'../services/SpaceTravelApi';import FlyingSpaceship from'./FlyingSpaceship';import DestinationContext from'../context/DestinationContext';import{useContext}from'react';import'../css/Planet.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Planet=_ref=>{let{name,pictureUrl,currentPopulation,id}=_ref;const[data,setData]=useState([]);const{setTargetPlanet,setTargetSpacecraft,reloadPlanets}=useContext(DestinationContext);useEffect(()=>{const findLandedSpacecrafts=async()=>{const spacecrafts=await SpaceTravelApi.getSpacecrafts();const spacecraftsData=spacecrafts.data;setData(spacecraftsData);};findLandedSpacecrafts();},[]);useEffect(()=>{const findLandedSpacecrafts=async()=>{const spacecrafts=await SpaceTravelApi.getSpacecrafts();const spacecraftsData=spacecrafts.data;setData(spacecraftsData);};findLandedSpacecrafts();},[reloadPlanets]);const sendShipToPlanet=spacecraftId=>{setTargetSpacecraft(spacecraftId);};const addPlanetToDesination=()=>{setTargetPlanet(id);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"img-container\",children:[/*#__PURE__*/_jsx(\"img\",{onClick:()=>addPlanetToDesination(),src:pictureUrl,className:\"img\",alt:\"planet\"}),/*#__PURE__*/_jsx(\"p\",{children:name}),/*#__PURE__*/_jsx(\"p\",{children:currentPopulation})]},id),/*#__PURE__*/_jsx(\"div\",{className:\"spaceship-container\",children:data.filter(item=>item.currentLocation===id).map(s=>/*#__PURE__*/_jsx(FlyingSpaceship,{id:s.id,pictureUrl:s.pictureUrl,name:s.name,capcity:s.capacity,sendShipToPlanet:sendShipToPlanet},s.id))})]})});};export default Planet;","map":{"version":3,"names":["React","useState","useEffect","SpaceTravelApi","FlyingSpaceship","DestinationContext","useContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Planet","_ref","name","pictureUrl","currentPopulation","id","data","setData","setTargetPlanet","setTargetSpacecraft","reloadPlanets","findLandedSpacecrafts","spacecrafts","getSpacecrafts","spacecraftsData","sendShipToPlanet","spacecraftId","addPlanetToDesination","children","className","onClick","src","alt","filter","item","currentLocation","map","s","capcity","capacity"],"sources":["/Users/owner/Documents/SPRINGBOARD/Projects/space-travel/src/components/ Planet.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport SpaceTravelApi from '../services/SpaceTravelApi';\nimport FlyingSpaceship from './FlyingSpaceship';\nimport DestinationContext from '../context/DestinationContext';\nimport { useContext } from 'react';\nimport '../css/Planet.css';\n\nconst Planet = ({ name, pictureUrl, currentPopulation, id}) => {\n    const [data, setData] = useState([]);\n    const {setTargetPlanet, setTargetSpacecraft, reloadPlanets} = useContext(DestinationContext);\n\n    useEffect(() => {\n        const findLandedSpacecrafts = async () => {\n           const spacecrafts = await SpaceTravelApi.getSpacecrafts();\n           const spacecraftsData = spacecrafts.data; \n           setData(spacecraftsData);\n        }\n\n        findLandedSpacecrafts();\n    }, [])\n\n    useEffect(() => {\n        const findLandedSpacecrafts = async () => {\n           const spacecrafts = await SpaceTravelApi.getSpacecrafts();\n           const spacecraftsData = spacecrafts.data; \n           setData(spacecraftsData);\n        }\n\n        findLandedSpacecrafts();\n    }, [reloadPlanets])\n\n    const sendShipToPlanet = (spacecraftId) => {\n      setTargetSpacecraft(spacecraftId);\n    }\n\n    const addPlanetToDesination = () => {\n        setTargetPlanet(id);\n    }\n\n    return (\n        <>\n            <div className=\"container\">\n                <div className=\"img-container\" key={id}>\n                    <img  onClick={() => addPlanetToDesination()} src={pictureUrl} className=\"img\" alt=\"planet\"/>\n                    <p>{name}</p>\n                <p>{currentPopulation}</p>\n                </div>\n                <div className=\"spaceship-container\">\n                {\n                  data.filter((item) => item.currentLocation === id).map((s) => \n                    (\n                        <FlyingSpaceship \n                          id={s.id} \n                          pictureUrl={s.pictureUrl} \n                          key={s.id} \n                          name={s.name} \n                          capcity={s.capacity}\n                          sendShipToPlanet={sendShipToPlanet}\n                        />\n                    ))\n                }\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default Planet; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}